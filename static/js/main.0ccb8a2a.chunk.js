(this["webpackJsonpapp-test"]=this["webpackJsonpapp-test"]||[]).push([[0],{149:function(e,t,n){e.exports=n.p+"static/media/mo.1906809e.png"},150:function(e,t,n){e.exports=n.p+"static/media/mi.e22ac40b.png"},157:function(e,t,n){e.exports=n(301)},162:function(e,t,n){},164:function(e,t,n){},298:function(e,t,n){},300:function(e,t,n){},301:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),s=n(8),o=n.n(s),l=(n(162),n(18)),i=n.n(l),c=n(22),u=n(32),d=n(15),h=n(16),v=n(30),p=n(29),f=(n(164),n(143)),g=n.n(f),m=n(90),y=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;Object(d.a)(this,e),this._maxLevel=t,this._nodes={},this._adjList={}}return Object(h.a)(e,[{key:"getNode",value:function(e){return this._nodes[e]}},{key:"getNodes",value:function(){for(var e=[],t=0,n=Object.keys(this._nodes);t<n.length;t++){var a=n[t];e.push({id:this._nodes[a]._key.key,label:this._nodes[a]._key.key,title:this._nodes[a]._key.key})}return e}},{key:"getEdges",value:function(){for(var e=[],t=[-.3,0,.3],n=[-.3,-.1,.1,.3],a=[-.6,-.4,-.2,0,.2],r=0,s=Object.keys(this._adjList);r<s.length;r++){var o,l=s[r],i=Object(c.a)(this._adjList[l]);try{for(i.s();!(o=i.n()).done;){var u=o.value,d=void 0;d=3===this._adjList[l].length?t:4===this._adjList[l].length?n:5===this._adjList[l].length?a:t,e.push({from:l,to:u._toNode._key.key,label:"".concat(u._value),title:"".concat(u._value),id:"".concat(l,".").concat(u._value,".").concat(u._toNode._key.key),smooth:{enabled:!0,type:"curvedCCW",roundness:d[parseInt(u._value)]},width:4,shadow:{enabled:!0},selectionWidth:2,font:{size:20}})}}catch(h){i.e(h)}finally{i.f()}}return e}},{key:"addNodes",value:function(e){var t,n=Object(c.a)(e);try{for(n.s();!(t=n.n()).done;){var a=t.value;this._nodes[a._key.key]=a,this._adjList[a._key.key]=[]}}catch(r){n.e(r)}finally{n.f()}}},{key:"addEdge",value:function(e,t,n){this._adjList[e._key.key].push(new b(t,n))}},{key:"canAdvanceAndReachRoot",value:function(e){var t=new _(0,0);e.sort((function(e,t){return e._level-t._level}));var n,a=[],r=Object(c.a)(e);try{for(r.s();!(n=r.n()).done;){var s=n.value;if(0!==s._level){var o=this.advance(t,s,[],[],a);if(!o&&!o.length)return[]}}}catch(l){r.e(l)}finally{r.f()}return a}},{key:"advance",value:function(e,t,n,a,r){if(t._level===e._level)return t._id===e._id&&(r.push([n,a]),!0);var s,o=[],l=Object(c.a)(this._adjList[t.key]);try{for(l.s();!(s=l.n()).done;){var i=s.value;i._toNode._key._level===t._level-1&&o.push(i)}}catch(f){l.e(f)}finally{l.f()}o.sort((function(e,t){return e._value-t._value}));for(var u=0,d=o;u<d.length;u++){var h=d[u];if(h.processed)h.unProcess();else{var v=[].concat(Object(m.a)(n),[t.key,h._toNode._key.key]),p=[].concat(Object(m.a)(a),["".concat(t.key,".").concat(h._value,".").concat(h._toNode._key.key)]);this.advance(e,h._toNode._key,v,p,r)}}return!0}}]),e}(),k=function e(t,n){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];Object(d.a)(this,e),this._key=new _(t,n),this._lastLevel=a},b=function(){function e(t,n){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];Object(d.a)(this,e),this._toNode=t,this._value=n,this._processed=a}return Object(h.a)(e,[{key:"process",value:function(){this._processed=!0}},{key:"unProcess",value:function(){this._processed=!1}},{key:"toString",value:function(){return"".concat(this._toNode.key," ").concat(this._value)}}]),e}(),_=function(){function e(t,n){Object(d.a)(this,e),this._level=t,this._id=n}return Object(h.a)(e,[{key:"key",get:function(){return"".concat(this._level,"-").concat(this._id)}}]),e}(),E=function(){function e(){Object(d.a)(this,e)}return Object(h.a)(e,[{key:"getPathFromRoot",value:function(e,t,n){for(var a,r=0,s=[];r<=t;){var o,l=Object(c.a)(e._adjList["".concat(r,"-0")]);try{for(l.s();!(o=l.n()).done;){var i=o.value;if(0===i._value&&i._toNode._key._level===r-1){a=i;break}}}catch(u){l.e(u)}finally{l.f()}null!=a&&a.process(),s.push(new _(r++,0))}return s}}]),e}(),w=(n(298),n(331)),j=n(302),x=n(335),O=function(e){Object(v.a)(n,e);var t=Object(p.a)(n);function n(e){var a;Object(d.a)(this,n),(a=t.call(this,e)).handleClickForward=function(){if(a.position!=a.result.length-1){a.position++;var e={nodes:a.result[a.position][0],edges:a.result[a.position][1]};a.network.selectEdges(e.edges),a.setState({nodesMessage:e.nodes.join("=>"),edgesMessage:e.edges.map((function(e){return e.split(".")[1]})).join("=>")})}},a.handleClickBackward=function(){if(0!==a.position&&!(a.position>=a.result.length)){a.position--;var e={nodes:a.result[a.position][0],edges:a.result[a.position][1]};a.network.selectEdges(e.edges),a.setState({nodesMessage:e.nodes.join("=>"),edgesMessage:e.edges.map((function(e){return e.split(".")[1]})).join("=>")})}},a.initZeroPath=function(){var e={nodes:a.result[0][0],edges:a.result[0][1]};a.network.selectEdges(e.edges),a.setState({nodesMessage:e.nodes.join("=>"),edgesMessage:e.edges.map((function(e){return e.split(".")[1]})).join("=>")})},a.onNodesOfCurrentLevelChange=function(e){a.setState({currentLevel:e.target.value})},a.onNodesOfCurrentLevelClick=function(e){a.state.prevLevel;var t=a.state.currentLevel;a.setState({prevLevel:t,currentLevel:0})};var r=new E;a.maxLevel=a.props.count,a.graph=a.props.graph,a.path=r.getPathFromRoot(a.graph,a.maxLevel,0),a.result=a.graph.canAdvanceAndReachRoot(a.path).filter((function(e){return e[0][0].includes(a.maxLevel.toString())})),a.position=0;var s=a.graph.getEdges();return a.state={currentLevel:1,prevLevel:0,message:"",graph:{nodes:a.graph.getNodes(),edges:s},options:{layout:{hierarchical:{direction:"DU",sortMethod:"directed",nodeSpacing:300}},edges:{arrows:{to:{enabled:!1}},color:{color:"#D2E5FF",highlight:"blue"},chosen:{label:function(e,t,n,a){e.color="red",e.strokeWidth=3,e.strokeColor="orange"}}},height:window.innerHeight,nodes:{borderWidth:4,borderWidthSelected:2,brokenImage:void 0,chosen:!0,color:{border:"#2B7CE9",background:"#fff",highlight:{border:"red",background:"red"},hover:{border:"#2B7CE9",background:"#D2E5FF"}},fixed:{x:!1,y:!1}}}},a.state.nodesMessage="You can start mapping!",a.state.edgesMessage="",a.state.hideNodes=!1,a}return Object(h.a)(n,[{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement("nav",null,r.a.createElement("h1",{id:"logo"},"Vershik Map")),r.a.createElement(w.a,{className:"button-group",color:"primary","aria-label":"outlined primary button group"},r.a.createElement(j.a,{className:"action",onClick:this.createNewDiagram},"New Diagram (WIP)"),r.a.createElement(j.a,{className:"action",onClick:this.handleClickBackward},"Previous"),r.a.createElement(j.a,{className:"action",onClick:this.handleClickForward},"Next")),r.a.createElement(x.a,{label:"Process:",multiline:!0,rowsMax:6,style:{position:"absolute",left:"2%",bottom:"18%",zIndex:2,width:"600px"},value:this.state.nodesMessage+"\n"+this.state.edgesMessage}),r.a.createElement(g.a,{graph:this.state.graph,options:this.state.options,getNetwork:function(t){e.network=t,e.initZeroPath()}}))}}]),n}(r.a.Component),C=n(148),L=n.n(C),N=n(149),S=n.n(N),I=n(150),M=n.n(I),F=(n(300),n(151)),P=n.n(F),T=function(e){Object(v.a)(n,e);var t=Object(p.a)(n);function n(e){var a;return Object(d.a)(this,n),(a=t.call(this,e)).levelsOnChange=function(e){var t=e.currentTarget.value-1;a.setState({levelsCount:t})},a.Level=function(e){var t,n;return r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("label",null,"X:",r.a.createElement("input",{type:"number",name:"x",onChange:function(e){var n=e.currentTarget,a=(n.name,n.value);t=a}})),r.a.createElement("label",null,"Y:",r.a.createElement("input",{type:"number",name:"y",onChange:function(e){var t=e.currentTarget,a=(t.name,t.value);n=a}})),r.a.createElement("button",{onClick:function(){a.changeReloadState(t,n,e)}},"Set")),r.a.createElement("div",null,a.state.reload[parseInt(e)].map((function(t,n){return r.a.createElement("div",{style:{display:"flex"}},t.map((function(t,s){return r.a.createElement("div",null,r.a.createElement("input",{type:"text",value:t,onChange:function(t){return a.setItem(e,n,s,parseInt(t.currentTarget.value))}}))})))}))),r.a.createElement("div",null,"Edges",a.state.reload[parseInt(e)].map((function(t,n){return r.a.createElement("div",null," ",r.a.createElement("div",{style:{display:"flex"}},r.a.createElement("input",{type:"text",onChange:function(t){return a.setEdgesString(e,n,t.currentTarget.value)}})))}))))},a.createLevels=function(){if(!a.state.pushed){for(var e=[],t=0;t<a.state.levelsCount;t++)e.push([]);a.setState({reload:e},(function(){for(var e=[],t=0;t<a.state.levelsCount;t++)e.push(a.Level(t));a.setState({levels:e})})),a.state.pushed=!0}},a.passToParent=function(){(0,a.props.setMatrixFromInput)(a.state.reload,a.state.levelsCount,a.state.edgeValues)},a.state={dims:{x:0,y:0},reload:[],levelsCount:0,pushed:!1,levels:[],edgeValues:[]},a}return Object(h.a)(n,[{key:"setItem",value:function(e,t,n,a){var r=this.state.reload;r[e][t][n]=a,this.setState({reload:r})}},{key:"createArray",value:function(){var e=Object(u.a)(i.a.mark((function e(t,n,a){var r=this;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){for(var s=[],o=0;o<t;o++){s.push([]);for(var l=0;l<n;l++)s[o].push(null)}var i={};void 0===r.state.reload[0]?i[a]=s:(i=L.a.cloneDeep(r.state.reload))[a]=s,e(i)})));case 1:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}()},{key:"setEdgesString",value:function(){var e=Object(u.a)(i.a.mark((function e(t,n,a){var r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=this.state.edgeValues)[t][n]=a,e.next=4,this.setState({edgeValues:r});case 4:case"end":return e.stop()}}),e,this)})));return function(t,n,a){return e.apply(this,arguments)}}()},{key:"changeReloadState",value:function(){var e=Object(u.a)(i.a.mark((function e(t,n,a){var r,s,o;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=this,e.next=3,this.createArray(t,n,a);case 3:return e.t1=e.sent,e.t2={reload:e.t1},e.next=7,e.t0.setState.call(e.t0,e.t2);case 7:for(r=[],s=[],o=0;o<this.state.levelsCount;o++)s.push(this.Level(o)),r.push([]);this.setState({levels:s,edgeValues:r});case 11:case"end":return e.stop()}}),e,this)})));return function(t,n,a){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(P.a,{trigger:"Click on me for Instructions! "},r.a.createElement("div",null,r.a.createElement("label",null,"The root level always has one node for now :)"),r.a.createElement("ol",null,r.a.createElement("li",null,"Set how many levels you want, start numbering from 1 and include the root with it. ( if we have the root and another level, we set the levels to 2. etc... )"),r.a.createElement("li",null,"After that set the dimensions of the incidence matrix for each level before filling any of them"),r.a.createElement("li",null,"Start filling the incidence matrix and the edge value fields"),r.a.createElement("li",null,"You can fill the edge value fields by providing a comma-seperated string, the program will input it from left to right.")),r.a.createElement("h5",{style:{display:"inline"}},"Input"),r.a.createElement("img",{style:{width:"400px"},src:M.a}),r.a.createElement("h5",{style:{display:"inline"}},"Output:"),r.a.createElement("img",{style:{width:"200px"},src:S.a}),r.a.createElement("p",null,"If you have any problems with the input, refresh the site"))),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("label",null,"Levels:",r.a.createElement("input",{type:"number",name:"x",onChange:this.levelsOnChange}),r.a.createElement("button",{onClick:this.createLevels},"Submit")),this.state.levels?this.state.levels:r.a.createElement("text",null,"No Levels Yet"),r.a.createElement("button",{onClick:this.passToParent},"Submit To Graph"))}}]),n}(r.a.Component),R=function(e){Object(v.a)(n,e);var t=Object(p.a)(n);function n(e){var a;return Object(d.a)(this,n),(a=t.call(this,e)).setMatrixFromInput=function(){var e=Object(u.a)(i.a.mark((function e(t,n,r){var s,o,l,u,d,h,v,p,f,g,m,b,_,E;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.unshift([[]]),console.log(r),s=new y(n),o=0,l=Object(c.a)(t),e.prev=5,l.s();case 7:if((u=l.n()).done){e.next=18;break}for(d=u.value,h=d.length,v=0;v<h;++v)p=new k(o,v,n===o),s.addNodes([p]);if(0!==o){e.next=14;break}return++o,e.abrupt("continue",16);case 14:for(f=0;f<d.length;f++)for(g=0,m=r[o-1][f].split(","),b=0;b<d[f].length;b++)for(_=0;_<d[f][b];_++)E=parseInt(m[g]),s.addEdge(s.getNode("".concat(o,"-").concat(f)),s.getNode("".concat(o-1,"-").concat(b)),E||0),g++;++o;case 16:e.next=7;break;case 18:e.next=23;break;case 20:e.prev=20,e.t0=e.catch(5),l.e(e.t0);case 23:return e.prev=23,l.f(),e.finish(23);case 26:a.setState({levelsCount:n,graph:s});case 27:case"end":return e.stop()}}),e,null,[[5,20,23,26]])})));return function(t,n,a){return e.apply(this,arguments)}}(),a.state={graph:[],levelsCount:0},a}return Object(h.a)(n,[{key:"render",value:function(){return r.a.createElement("div",null,0==this.state.graph.length?r.a.createElement(T,{matrix:this.state.array,setMatrixFromInput:this.setMatrixFromInput}):null,0!=this.state.graph.length?r.a.createElement(O,{graph:this.state.graph,count:this.state.levelsCount}):null)}}]),n}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(R,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[157,1,2]]]);
//# sourceMappingURL=main.0ccb8a2a.chunk.js.map