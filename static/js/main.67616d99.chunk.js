(this["webpackJsonpapp-test"]=this["webpackJsonpapp-test"]||[]).push([[0],{120:function(e,t,a){e.exports=a.p+"static/media/mo.1906809e.png"},121:function(e,t,a){e.exports=a.p+"static/media/mi.e22ac40b.png"},123:function(e,t,a){e.exports=a(266)},128:function(e,t,a){},130:function(e,t,a){},264:function(e,t,a){},265:function(e,t,a){},266:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(116),l=a.n(s),o=(a(128),a(8)),i=a(6),c=a.n(i),u=a(11),d=a(64),h=a(5),v=a(7),p=a(14),m=a(13),f=(a(130),a(117)),g=a.n(f),y=a(63),b=a(118),k=a.n(b),E=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,a=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;Object(h.a)(this,e),this._maxLevel=t,this._nodes={},this._adjList={},this._saveState=a,this._saved=n}return Object(v.a)(e,[{key:"getSavedStatus",value:function(){return this._saved}},{key:"setSavedState",value:function(e){this._saved=e}},{key:"getSaveState",value:function(){return this._saveState}},{key:"getNode",value:function(e){return this._nodes[e]}},{key:"getNodes",value:function(){for(var e=[],t=0,a=Object.keys(this._nodes);t<a.length;t++){var n=a[t];e.push({id:this._nodes[n]._key.key,label:this._nodes[n]._key.key,title:this._nodes[n]._key.key})}return e}},{key:"getEdges",value:function(){for(var e=[],t=[-.3,0,.3],a=[-.3,-.1,.1,.3],n=[-.6,-.4,-.2,0,.2],r=[-.6,-.4,-.2,0,.2,.4],s=[-.6,-.4,-.2,0,.2,.4,.6],l=[-.6,-.4,-.2,0,.2,.4,.6,.8],i=0,c=Object.keys(this._adjList);i<c.length;i++){var u,d=c[i],h=k()(),v=0,p=Object(o.a)(this._adjList[d]);try{for(p.s();!(u=p.n()).done;){var m=u.value,f=void 0;switch(this._adjList[d].length){case 3:f=t;break;case 4:f=a;break;case 5:f=n;break;case 6:f=r;break;case 7:f=s;break;case 8:f=l;break;default:f=t}e.push({from:d,color:{color:h,highlight:"black"},to:m._toNode._key.key,label:"".concat(m._value),title:"".concat(m._value),id:"".concat(d,".").concat(m._value,".").concat(m._toNode._key.key),smooth:{enabled:!0,type:"curvedCCW",roundness:f[v]},width:4,shadow:{enabled:!0},selectionWidth:4,font:{size:20,color:h,strokeColor:"black",strokeWidth:5,bold:!0}}),v++}}catch(g){p.e(g)}finally{p.f()}}return e}},{key:"addNodes",value:function(e){var t,a=Object(o.a)(e);try{for(a.s();!(t=a.n()).done;){var n=t.value;this._nodes[n._key.key]=n,this._adjList[n._key.key]=[]}}catch(r){a.e(r)}finally{a.f()}}},{key:"addEdge",value:function(e,t,a){this._adjList[e._key.key].push(new S(t,a))}},{key:"canAdvanceAndReachRoot",value:function(e){var t=new _(0,0);e.sort((function(e,t){return e._level-t._level}));var a,n=[],r=Object(o.a)(e);try{for(r.s();!(a=r.n()).done;){var s=a.value;if(0!==s._level){var l=this.advance(t,s,[],[],n);if(!l&&!l.length)return[]}}}catch(i){r.e(i)}finally{r.f()}return n}},{key:"advance",value:function(e,t,a,n,r){if(t._level===e._level)return t._id===e._id&&(r.push([a,n]),!0);var s,l=[],i=Object(o.a)(this._adjList[t.key]);try{for(i.s();!(s=i.n()).done;){var c=s.value;c._toNode._key._level===t._level-1&&l.push(c)}}catch(m){i.e(m)}finally{i.f()}l.sort((function(e,t){return e._value-t._value}));for(var u=0,d=l;u<d.length;u++){var h=d[u];if(h.processed)h.unProcess();else{var v=[].concat(Object(y.a)(a),[t.key,h._toNode._key.key]),p=[].concat(Object(y.a)(n),["".concat(t.key,".").concat(h._value,".").concat(h._toNode._key.key)]);this.advance(e,h._toNode._key,v,p,r)}}return!0}}]),e}(),w=function e(t,a){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];Object(h.a)(this,e),this._key=new _(t,a),this._lastLevel=n},S=function(){function e(t,a){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];Object(h.a)(this,e),this._toNode=t,this._value=a,this._processed=n}return Object(v.a)(e,[{key:"process",value:function(){this._processed=!0}},{key:"unProcess",value:function(){this._processed=!1}},{key:"toString",value:function(){return"".concat(this._toNode.key," ").concat(this._value)}}]),e}(),_=function(){function e(t,a){Object(h.a)(this,e),this._level=t,this._id=a}return Object(v.a)(e,[{key:"key",get:function(){return"".concat(this._level,"-").concat(this._id)}}]),e}(),x=function(){function e(){Object(h.a)(this,e)}return Object(v.a)(e,[{key:"getPathFromRoot",value:function(e,t,a){for(var n,r=0,s=[];r<=t;){var l,i=Object(o.a)(e._adjList["".concat(r,"-0")]);try{for(i.s();!(l=i.n()).done;){var c=l.value;if(0===c._value&&c._toNode._key._level===r-1){n=c;break}}}catch(u){i.e(u)}finally{i.f()}null!=n&&n.process(),s.push(new _(r++,0))}return s}}]),e}(),j=(a(264),function(e){Object(p.a)(a,e);var t=Object(m.a)(a);function a(e){var n;Object(h.a)(this,a),(n=t.call(this,e)).handleClickForward=function(){if(n.position!=n.result.length-1){n.position++;var e={nodes:n.result[n.position][0],edges:n.result[n.position][1]};n.network.selectEdges(e.edges),n.setState({nodesMessage:e.nodes.join("=>"),edgesMessage:e.edges.map((function(e){return e.split(".")[1]})).join("=>")})}},n.handleClickBackward=function(){if(0!==n.position&&!(n.position>=n.result.length)){n.position--;var e={nodes:n.result[n.position][0],edges:n.result[n.position][1]};n.network.selectEdges(e.edges),n.setState({nodesMessage:e.nodes.join("=>"),edgesMessage:e.edges.map((function(e){return e.split(".")[1]})).join("=>")})}},n.initZeroPath=function(){var e={nodes:n.result[0][0],edges:n.result[0][1]};n.network.selectEdges(e.edges),n.setState({nodesMessage:e.nodes.join("=>"),edgesMessage:e.edges.map((function(e){return e.split(".")[1]})).join("=>")})},n.onNodesOfCurrentLevelChange=function(e){n.setState({currentLevel:e.target.value})},n.onNodesOfCurrentLevelClick=function(e){n.state.prevLevel;var t=n.state.currentLevel;n.setState({prevLevel:t,currentLevel:0})},n.saveGraph=function(e){var t;n.graph.getSavedStatus()?alert("This graph has already been saved"):(n.graph.setSavedState(!0),(t=JSON.parse(localStorage.getItem("savedGraphs"))?JSON.parse(localStorage.getItem("savedGraphs")):{})[(new Date).toString()]=n.graph.getSaveState(),localStorage.setItem("savedGraphs",JSON.stringify(t)))};var r=new x;n.maxLevel=n.props.count,n.graph=n.props.graph,n.path=r.getPathFromRoot(n.graph,n.maxLevel,0),n.result=n.graph.canAdvanceAndReachRoot(n.path).filter((function(e){return e[0][0].includes(n.maxLevel.toString())})),n.position=0;var s=n.graph.getEdges();return n.state={currentLevel:1,prevLevel:0,message:"",graph:{nodes:n.graph.getNodes(),edges:s},options:{layout:{hierarchical:{direction:"DU",sortMethod:"directed",nodeSpacing:300}},edges:{arrows:{to:{enabled:!1}},chosen:{label:function(e,t,a,n){e.color="red",e.strokeWidth=3,e.strokeColor="orange"}}},height:window.innerHeight.toString(),nodes:{borderWidth:4,borderWidthSelected:2,brokenImage:void 0,chosen:!0,color:{border:"#2B7CE9",background:"#fff",highlight:{border:"red",background:"red"},hover:{border:"#2B7CE9",background:"#D2E5FF"}},fixed:{x:!1,y:!1}}}},n.state.nodesMessage="You can start mapping!",n.state.edgesMessage="",n.state.hideNodes=!1,n}return Object(v.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement("nav",null,r.a.createElement("h1",{id:"logo"},"Vershik Map")),r.a.createElement("button",{onClick:this.saveGraph,id:"save-button"},"Save Diagram"),r.a.createElement("div",{className:"button-group"},r.a.createElement("label",null,"Vershik map controls: "),r.a.createElement("button",{className:"action",onClick:this.handleClickBackward},"Previous"),r.a.createElement("button",{className:"action",onClick:this.handleClickForward},"Next")),r.a.createElement("textarea",{readOnly:!0,label:"Process:",rows:8,cols:8,style:{position:"absolute",left:"2%",bottom:"10%",zIndex:2,width:"600px",backgroundColor:"rgba(0, 0, 0, 0)",color:"white",fontSize:"1.2em"},value:"Logs: \n"+this.state.nodesMessage+"\n"+this.state.edgesMessage}),r.a.createElement(g.a,{graph:this.state.graph,options:this.state.options,getNetwork:function(t){e.network=t,e.initZeroPath()}}))}}]),a}(r.a.Component)),O=a(119),C=a.n(O),N=a(120),L=a.n(N),G=a(121),I=a.n(G),M=(a(265),a(122)),F=a.n(M),D=function(e){Object(p.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(h.a)(this,a),(n=t.call(this,e)).levelsOnChange=function(e){var t=e.currentTarget.value-1;n.setState({levelsCount:t})},n.Level=function(e){var t,a;return r.a.createElement("div",{key:e,className:"input-level"},r.a.createElement("p",{className:"level"},"Level ".concat(e+1,"-").concat(e," incidence matrix: ")),r.a.createElement("div",null,r.a.createElement("label",null,"X:",r.a.createElement("input",{type:"number",name:"x",placeholder:"Vertices in level ".concat(e+1),onChange:function(e){var a=e.currentTarget,n=(a.name,a.value);t=n}})),r.a.createElement("label",null,"Y:",r.a.createElement("input",{type:"number",name:"y",placeholder:"Vertices in level ".concat(e),onChange:function(e){var t=e.currentTarget,n=(t.name,t.value);a=n}})),r.a.createElement("button",{style:{color:"black"},onClick:function(){n.changeReloadState(t,a,e)}},"Set")),r.a.createElement("div",null,n.state.reload[parseInt(e)].map((function(t,a){return r.a.createElement("div",{key:"".concat(t,", ").concat(a),style:{display:"flex",alignItems:"center",justifyContent:"center"}},t.map((function(t,s){return r.a.createElement("div",{key:"".concat(t,", ").concat(s)},r.a.createElement("input",{placeholder:"".concat(a,",").concat(s),type:"text",onChange:function(t){return n.setItem(e,a,s,parseInt(t.currentTarget.value))}}))})))}))),r.a.createElement("div",null,r.a.createElement("p",{style:{margin:"2px"}},"Edge Values Separted by a comma(the fields will show up after you set the dimensions):"," "),n.state.reload[parseInt(e)].map((function(t,a){return r.a.createElement("div",{key:"".concat(t,", ").concat(a)}," ",r.a.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"center"}},r.a.createElement("input",{placeholder:"Vertex ".concat(a,", Level ").concat(e+1),type:"text",onChange:function(t){return n.setEdgesString(e,a,t.currentTarget.value)}})))}))))},n.createLevels=function(){if(n.setState({finalButtonDisabled:!1}),n.setState({submitButtonDisabled:!0}),!n.state.pushed){for(var e=[],t=0;t<n.state.levelsCount;t++)e.push([]);n.setState({reload:e},(function(){for(var e=[],t=0;t<n.state.levelsCount;t++)e.push(n.Level(t));n.setState({levels:e})})),n.state.pushed=!0}},n.passToParent=function(){(0,n.props.setMatrixFromInput)(n.state.reload,n.state.levelsCount,n.state.edgeValues,!1)},n.state={dims:{x:0,y:0},reload:[],levelsCount:0,pushed:!1,levels:[],edgeValues:[],finalButtonDisabled:!0,submitButtonDisabled:!1},n}return Object(v.a)(a,[{key:"setItem",value:function(e,t,a,n){var r=this.state.reload;r[e][t][a]=n,this.setState({reload:r})}},{key:"createArray",value:function(){var e=Object(u.a)(c.a.mark((function e(t,a,n){var r=this;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){for(var s=[],l=0;l<t;l++){s.push([]);for(var o=0;o<a;o++)s[l].push(null)}var i={};void 0===r.state.reload[0]?i[n]=s:(i=C.a.cloneDeep(r.state.reload))[n]=s,e(i)})));case 1:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}()},{key:"setEdgesString",value:function(){var e=Object(u.a)(c.a.mark((function e(t,a,n){var r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=this.state.edgeValues)[t][a]=n,e.next=4,this.setState({edgeValues:r});case 4:case"end":return e.stop()}}),e,this)})));return function(t,a,n){return e.apply(this,arguments)}}()},{key:"changeReloadState",value:function(){var e=Object(u.a)(c.a.mark((function e(t,a,n){var r,s,l;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=this,e.next=3,this.createArray(t,a,n);case 3:return e.t1=e.sent,e.t2={reload:e.t1},e.next=7,e.t0.setState.call(e.t0,e.t2);case 7:for(r=[],s=[],l=0;l<this.state.levelsCount;l++)s.push(this.Level(l)),r.push([]);this.setState({levels:s,edgeValues:r});case 11:case"end":return e.stop()}}),e,this)})));return function(t,a,n){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(F.a,{trigger:"----  Click on me for Instructions!  ----"},r.a.createElement("hr",null),r.a.createElement("br",null),r.a.createElement("div",{className:"instructions"},r.a.createElement("label",null,"The root level has one vertex for now \ud83d\ude10"),r.a.createElement("div",{className:"ins-list"},r.a.createElement("ol",null,r.a.createElement("li",null,"Set how many levels you want, start numbering from 1 and include the root with it. ( if we have the root and another level, we set the levels to 2. etc... )"),r.a.createElement("li",null,"After that set the dimensions of the incidence matrix for each level before filling any of the actual matrices. (Note: click set before you move on to the next level)"),r.a.createElement("li",null,"Start filling the incidence matrix and the edge value fields"),r.a.createElement("li",null,"You can fill the edge value fields by providing a comma-seperated string, the program will input it from left to right for each vertex."),r.a.createElement("li",null,"Click the submit-graph button after you finish filling everything"))),r.a.createElement("h5",{style:{display:"inline",margin:"20px"}}," Input: "),r.a.createElement("img",{style:{width:"400px",verticalAlign:"middle"},src:I.a}),r.a.createElement("h5",{style:{display:"inline",margin:"20px"}}," Output: "),r.a.createElement("img",{style:{width:"200px",verticalAlign:"middle"},src:L.a}),r.a.createElement("p",null,"If you have any problems with the input-fields, refresh the site!"),r.a.createElement("p",null,"If the graph doesn't showup after you hit submit to graph, then you probably have an error in the matrices."),r.a.createElement("p",null,"Email"," ",r.a.createElement("a",{style:{color:"white"},href:"mailto: bshaheen@hamilton.edu"},"me")," ","if you encounter any bugs!"))),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("div",{className:"levels"},r.a.createElement("label",null,"Levels:",r.a.createElement("input",{type:"number",name:"x",onChange:this.levelsOnChange}),r.a.createElement("button",{onClick:this.createLevels,disabled:this.state.submitButtonDisabled,style:{margin:"5px"}},"Submit")),this.state.levels?this.state.levels:r.a.createElement("text",null,"No Levels Yet"),r.a.createElement("hr",null),r.a.createElement("button",{onClick:this.passToParent,disabled:this.state.finalButtonDisabled,style:{margin:"5px"}},"Submit To graph")))}}]),a}(r.a.Component),B=function(e){Object(p.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(h.a)(this,a),(n=t.call(this,e)).getSavedGraphsList=function(){if(window.File&&window.FileReader&&window.FileList&&window.Blob){var e=document.querySelector("input[type=file]").files[0],t=new FileReader;e.type.match(/text.*/)?t.onload=function(e){var t=Object(d.a)(Object(d.a)({},n.state.savedGraphs),JSON.parse(e.target.result));localStorage.setItem("savedGraphs",JSON.stringify(t)),n.setState({savedGraphs:t},n.setSavedGraphsList)}:alert("It's not a text file!"),t.readAsText(e)}else alert("Your browser is too old to support HTML5 File API!")},n.setSavedGraphsList=function(){var e=[],t=function(t){var a=r.a.createElement("li",{key:t},r.a.createElement("a",{onClick:function(){var e=n.state.savedGraphs[t];n.setMatrixFromInput(e.new_m,e.count,e.edgeValues,!0)}},t),r.a.createElement("button",{style:{marginLeft:"20px"},onClick:function(){var e=n.state.savedGraphs;delete e[t],localStorage.setItem("savedGraphs",JSON.stringify(e)),n.setState({savedGraphs:e},n.setSavedGraphsList)}},"Delete"));e.push(a)};for(var a in n.state.savedGraphs)t(a);n.setState({savedGraphElements:e},n.downloadGraphs)},n.downloadGraphs=Object(u.a)(c.a.mark((function e(){var t,a,s,l,o;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=JSON.stringify(n.state.savedGraphs),a="diagrams",s=new Blob([t],{type:"application/json"}),e.next=5,URL.createObjectURL(s);case 5:l=e.sent,o=[r.a.createElement("a",{key:"download",download:a+".txt",href:l},"Download Graphs")],n.setState({download:o});case 8:case"end":return e.stop()}}),e)}))),n.setMatrixFromInput=function(){var e=Object(u.a)(c.a.mark((function e(t,a,r,s){var l,i,u,d,h,v,p,m,f,g,y,b,k,S,_,x;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s?l=null:(i=JSON.parse(JSON.stringify(t)),l={new_m:i,count:a,edgeValues:r}),t.unshift([[]]),u=new E(a,l,s),d=0,h=Object(o.a)(t),e.prev=5,h.s();case 7:if((v=h.n()).done){e.next=18;break}for(p=v.value,m=p.length,f=0;f<m;++f)g=new w(d,f,a===d),u.addNodes([g]);if(0!==d){e.next=14;break}return++d,e.abrupt("continue",16);case 14:for(y=0;y<p.length;y++)for(b=0,k=r[d-1][y].split(","),S=0;S<p[y].length;S++)for(_=0;_<p[y][S];_++)x=parseInt(k[b]),u.addEdge(u.getNode("".concat(d,"-").concat(y)),u.getNode("".concat(d-1,"-").concat(S)),x||0),b++;++d;case 16:e.next=7;break;case 18:e.next=23;break;case 20:e.prev=20,e.t0=e.catch(5),h.e(e.t0);case 23:return e.prev=23,h.f(),e.finish(23);case 26:n.setState({levelsCount:a,graph:u});case 27:case"end":return e.stop()}}),e,null,[[5,20,23,26]])})));return function(t,a,n,r){return e.apply(this,arguments)}}(),n.state={graph:[],levelsCount:0,savedGraphs:[],savedGraphElements:[],download:[]},n}return Object(v.a)(a,[{key:"componentDidMount",value:function(){this.setState({savedGraphs:JSON.parse(localStorage.getItem("savedGraphs"))},this.setSavedGraphsList)}},{key:"render",value:function(){return r.a.createElement("div",null,0==this.state.graph.length?r.a.createElement(D,{matrix:this.state.array,setMatrixFromInput:this.setMatrixFromInput}):null,0!=this.state.graph.length?r.a.createElement(j,{graph:this.state.graph,count:this.state.levelsCount}):null,0==this.state.graph.length?r.a.createElement("div",{className:"levels"},r.a.createElement("div",{className:"saves"},r.a.createElement("p",{style:{display:"inline"}},"Saved diagrams"),r.a.createElement("hr",null),r.a.createElement("ul",{className:"save-list"},this.state.savedGraphElements)),r.a.createElement("div",{className:"button-wrap"},r.a.createElement("label",{value:"upload-d",className:"new-button"},"Upload Diagrams:"),r.a.createElement("input",{onChange:this.getSavedGraphsList,id:"upload",type:"file"})),r.a.createElement("div",null,this.state.download)):null)}}]),a}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(B,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[123,1,2]]]);
//# sourceMappingURL=main.67616d99.chunk.js.map